# دليل إعداد التطبيق للمستثمر الجديد

## نظرة عامة
هذا التطبيق تم تنظيفه من جميع معلومات المستثمر السابق وهو جاهز للإعداد لمستثمر جديد.

## ما تم إزالته
✅ مجلد `.git` - تم حذف جميع ارتباطات Git بالمستودع البعيد  
✅ ملف `.env.local` - تم حذف معلومات قاعدة البيانات والمفاتيح السرية  
✅ مجلد `node_modules` - تم حذف التبعيات (سيتم إعادة تثبيتها)  
✅ مجلد `dist` - تم حذف ملفات البناء  
✅ مجلد `.gradle` - تم حذف ملفات Android المؤقتة  
✅ مجلد `.tmp` - تم حذف الملفات المؤقتة  
✅ مجلد `www` - تم حذف ملفات بناء Capacitor  
✅ مجلد `.npm-cache` - تم حذف ملفات الكاش  

---

## خطوات الإعداد

### 1️⃣ إنشاء مشروع Supabase جديد

1. انتقل إلى [Supabase](https://supabase.com)
2. قم بإنشاء حساب جديد أو تسجيل الدخول
3. أنشئ مشروع جديد (New Project)
4. احفظ المعلومات التالية من إعدادات المشروع:
   - **Project URL**: `https://xxxxx.supabase.co`
   - **Anon Public Key**: المفتاح العام للمشروع

### 2️⃣ إنشاء ملف `.env.local`

قم بإنشاء ملف جديد باسم `.env.local` في المجلد الرئيسي للمشروع وأضف المحتوى التالي:

```env
GEMINI_API_KEY=your_gemini_api_key_here
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here
```

**ملاحظة**: استبدل القيم بالمعلومات الفعلية من مشروع Supabase الجديد.

### 3️⃣ إعداد قاعدة البيانات

في لوحة تحكم Supabase، انتقل إلى **SQL Editor** وقم بتنفيذ الملفات التالية بالترتيب:

1. **إنشاء الجداول**: `full_schema_caty.sql`
2. **إعداد الصلاحيات**: `fix_rls_final.sql`
3. **إضافة البيانات الأولية**: `seed_data.sql`

**ملاحظة مهمة**: قبل تنفيذ `seed_data.sql`, قم بمراجعته وتعديل أي بيانات خاصة بالمستثمر (مثل أسماء المنتجات، الفئات، إلخ).

### 4️⃣ تثبيت التبعيات

افتح Terminal في مجلد المشروع ونفذ الأمر التالي:

```powershell
npm install
```

### 5️⃣ تشغيل التطبيق محليًا

بعد تثبيت التبعيات، قم بتشغيل التطبيق:

```powershell
npm run dev
```

سيتم فتح التطبيق على `http://localhost:5173`

### 6️⃣ إعداد Git (اختياري)

إذا كنت تريد ربط المشروع بمستودع Git جديد:

```powershell
# تهيئة Git
git init

# إضافة جميع الملفات
git add .

# أول commit
git commit -m "Initial commit for new investor"

# ربط بمستودع بعيد جديد
git remote add origin https://github.com/username/repo-name.git

# رفع الكود
git push -u origin main
```

### 7️⃣ بناء تطبيق Android (اختياري)

إذا كنت تريد بناء تطبيق Android:

```powershell
# بناء المشروع
npm run build

# مزامنة Capacitor
npx cap sync android

# فتح في Android Studio
npx cap open android
```

---

## ملفات مهمة للمراجعة

- **`seed_data.sql`**: يحتوي على البيانات الأولية (فئات، وحدات، إلخ) - قم بتخصيصها حسب احتياجات المستثمر
- **`package.json`**: يحتوي على قائمة التبعيات والأوامر المتاحة
- **`capacitor.config.json`**: إعدادات تطبيق Capacitor (قد تحتاج لتغيير اسم التطبيق)
- **`manifest.json`**: معلومات التطبيق للويب (قم بتحديث الاسم والوصف)

---

## الدعم الفني

للحصول على المساعدة أو الإبلاغ عن مشاكل، يرجى مراجعة:
- **`README.md`**: معلومات عامة عن المشروع
- **`OWNER_MANUAL.md`**: دليل المالك الشامل
- **`CLONING_GUIDE.md`**: دليل استنساخ المشروع

---

## ملاحظات أمنية مهمة

⚠️ **لا تشارك ملف `.env.local` مع أي شخص**  
⚠️ **لا ترفع ملف `.env.local` إلى Git** (محمي بواسطة `.gitignore`)  
⚠️ **احفظ نسخة احتياطية من مفاتيح Supabase في مكان آمن**  

---

## الخطوات التالية

بعد إكمال الإعداد:
1. قم بتسجيل الدخول كمسؤول
2. راجع جميع الإعدادات والبيانات الأولية
3. قم بتخصيص التطبيق حسب احتياجات العمل
4. اختبر جميع الوظائف قبل النشر

**تم إعداد هذا الدليل بتاريخ**: 2026-01-20
